# ATM-placement


## Содержание файлов

### **main.py** 

- Содержит импорт библиотек
```
import argparse 
import subprocess
import sys
```

- Описание аргументов для запуска

### **tests.py** 

- Содержит функцию принимающие аргументы
```
def Test_versions(n, k, L, test_number=1):
n - Количество расстояний между банкоматами
k - Количество новых банкоматов
L - Список расстояний
test_number - номер теста
```

- Набор из 5 тестов с различными параметрами
```
# Test 1
# 4 bankomata
n = 3
# 3 new bankomata
k = 3
L = [10, 5, 8]

Test_versions(n, k, L)
```

### **functions.py** 

- Содержит 3 версии функций для решения задачи
1. **optimize_atm_locations_ver_1_3** - 
иной подход к задаче *(наиболее эффективный)*


2. **optimize_atm_locations_2_2_1** - 
усовершенствованный прототип *(средний по эффективности)*


3. **optimize_atm_locations_2_2_0** - первый рабочий прототип


## Запуск и тестирование

### Для ознакомления со списком аргументов можно ввести команду:

```
python main.py -h
```
Вывод:
```
Расчет новых расстояний между банкоматами

options:
  -h, --help     show this help message and exit
  --tests        Запускает тестовые варианты
  --v1_3         Запускает тест для функции 1.3 версии
  --v2_2_1       Запускает тест для функции 2.2.1 версии
  --v2_2_0       Запускает тест для функции 2.2.0 версии
  --n N          Количество расстояний между банкоматами
  --k K          Количество новых банкоматов
  --L L [L ...]  Список расстояний

```

### Запуск заготовленных тестов производится командой
```
python main.py --tests
```
Данная команда запустит заготовленные 5 тестов
с результатами всех версий в обычном и отсортированном виде

Пример вывода одного из тестов:
```
Test number 1
Test parametrs: (3, 3, [10, 5, 8])
>>>>>>
Version 1.3 result -  [3.3, 3.3, 3.3, 5.0, 4.0, 4.0]       
Version 1.3 sort result -  [5.0, 4.0, 4.0, 3.3, 3.3, 3.3]  
>>>>>>
Version 2.2.1 result -  [5.0, 5.0, 2.5, 2.5, 4.0, 4.0]     
Version 2.2.1 sort result -  [5.0, 5.0, 4.0, 4.0, 2.5, 2.5]
>>>>>>
Version 2.2.0 result -  [2.5, 2.5, 5.0, 5.0, 4.0, 4.0]     
Version 2.2.0 sort result -  [5.0, 5.0, 4.0, 4.0, 2.5, 2.5]
>>>>>>
```
### Так же можно протестировать каждую отдельную версию командами:
```
python main.py --v1_3
```
```
python main.py --v2_2_1
```
```
python main.py --v2_2_0
```
В таком случае будет запущен 1 тест с дефолтным набором переменных:
Пример вывода одного из тестов:
```
Parametrs: (3, 3, [10, 5, 8])
Version 1.3 result -  [3.3, 3.3, 3.3, 5.0, 4.0, 4.0]     
Version 1.3 sort result -  [5.0, 4.0, 4.0, 3.3, 3.3, 3.3]
```
### Для каждой отдельной версии можно задать свой набор параметов посредством аргументов:
```
python main.py --v1_3 --n 5 --k 8 --L 10 5 8 13 2
```
Вывод в данном случае:
```
Parametrs: (5, 8, [10, 5, 8, 13, 2])
Version 1.3 result -  [3.3, 3.3, 3.3, 2.5, 2.5, 2.7, 2.7, 2.7, 3.2, 3.2, 3.2, 3.2, 2.0]
Version 1.3 sort result -  [3.3, 3.3, 3.3, 3.2, 3.2, 3.2, 3.2, 2.7, 2.7, 2.7, 2.5, 2.5, 2.0]
```

## Отлов ошибок

- При отсутствии аргументов будет получено сообщение об этом.
- При изменении аргументов n или L по одиночке будет выводиться сообщение о не соответствии.
> Количество промежутков n не соответствует списку длинн этих промежутков L